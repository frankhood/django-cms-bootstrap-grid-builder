{"remainingRequest":"/Users/davide/work_projects/django-cms-bootstrap-grid-builder/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/davide/work_projects/django-cms-bootstrap-grid-builder/src/components/page-layout-builder.vue?vue&type=style&index=0&id=95d9dbd4&lang=scss&scoped=true&","dependencies":[{"path":"/Users/davide/work_projects/django-cms-bootstrap-grid-builder/src/components/page-layout-builder.vue","mtime":1636037048255},{"path":"/Users/davide/work_projects/django-cms-bootstrap-grid-builder/node_modules/css-loader/index.js","mtime":1620135259825},{"path":"/Users/davide/work_projects/django-cms-bootstrap-grid-builder/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1629994279449},{"path":"/Users/davide/work_projects/django-cms-bootstrap-grid-builder/node_modules/postcss-loader/src/index.js","mtime":1609411070040},{"path":"/Users/davide/work_projects/django-cms-bootstrap-grid-builder/node_modules/sass-loader/dist/cjs.js","mtime":1620135261012},{"path":"/Users/davide/work_projects/django-cms-bootstrap-grid-builder/node_modules/cache-loader/dist/cjs.js","mtime":1633617106424},{"path":"/Users/davide/work_projects/django-cms-bootstrap-grid-builder/node_modules/vue-loader/lib/index.js","mtime":1629994279449}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#plbSpecificity {\n  button {\n    outline: 0;\n    user-select: none;\n    border: 0;\n  }\n\n  &.pageLayoutBuilder {\n    width: 100%;\n    display: block;\n    color: #2c3e50;\n    clear: both;\n  }\n\n  .utilityCta {\n    appearance: none;\n    border: none;\n    padding: 5px;\n    font-size: 18px;\n    line-height: 12px;\n    vertical-align: top;\n    background: #417690;\n    color: #fff;\n    min-width: 26px;\n    min-height: 26px;\n    user-select: none;\n    transition: all 0.4s ease;\n    cursor: pointer;\n\n    svg {\n      user-select: none;\n      width: 15px;\n      height: 15px;\n      fill: #fff !important;\n      stroke: #fff !important;\n\n      * {\n        fill: #fff !important;\n        stroke: #fff !important;\n      }\n    }\n\n    &:hover {\n      user-select: none;\n\n      background: #205067;\n    }\n\n    &:focus {\n      outline: 0 !important;\n      border: 0 !important;\n    }\n\n    &:active {\n      background: #417690;\n    }\n  }\n\n  .componentTitle {\n    font-size: 32px;\n    color: #000;\n    line-height: 1.3;\n    margin: 0 0 20px;\n    font-weight: 600;\n    padding: 0;\n    background: transparent;\n  }\n\n  .componentDescription {\n    font-size: 18px;\n    p {\n      padding-bottom: 10px;\n    }\n  }\n\n  .containersBtns {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: flex-start;\n    margin: 30px 0 0;\n\n    button {\n      background: #417690;\n      appearance: none;\n      text-transform: uppercase;\n      font-weight: 400;\n      padding: 10px 15px;\n      margin: 0 10px 0 0;\n      border-radius: 0;\n      color: #fff;\n      cursor: pointer;\n      height: 45px;\n      line-height: 20px;\n      font-size: 18px;\n\n      &:hover,\n      &:focus {\n        background: #205067;\n      }\n    }\n  }\n\n  .layoutTitle,\n  .buttonsTitle,\n  .colsTitle {\n    text-align: left;\n    background: none;\n    color: black;\n    font-size: 22px;\n    margin: 0 0 20px;\n    line-height: 40px;\n    font-weight: 600;\n    padding: 0;\n  }\n\n  .buttonsTitle {\n    width: 100%;\n  }\n\n  .colsTitle {\n    width: 100%;\n  }\n\n  .layoutsWrapper {\n    margin: 30px 0 0;\n  }\n\n  .page {\n    border: 2px solid black;\n    min-height: 127px;\n    position: relative;\n    padding: 40px 0 41px;\n  }\n\n  .large {\n    flex: 0 0 48%;\n  }\n\n  .medium {\n    flex: 0 0 28%;\n  }\n\n  .small {\n    flex: 0 0 20%;\n  }\n\n  .pageHeader {\n    text-align: center;\n    font-weight: 700;\n    font-size: 16px;\n    width: 100%;\n    height: 40px;\n    top: 0;\n    position: absolute;\n    line-height: 40px;\n    background-color: #dadada;\n  }\n\n  .pageFooter {\n    text-align: center;\n    font-weight: 700;\n    font-size: 16px;\n    width: 100%;\n    height: 40px;\n    bottom: 0;\n    position: absolute;\n    line-height: 40px;\n    background-color: #dadada;\n  }\n\n  .actionsWrapper {\n    margin: 40px 0 0;\n    text-align: right;\n  }\n\n  .exampleContainer {\n    margin: 30px 0 0;\n    display: flex;\n    flex-flow: row wrap;\n    width: 48%;\n\n    .col {\n      padding: 2px;\n      overflow: hidden;\n\n      .brick {\n        background: #417690;\n        appearance: none;\n        text-transform: uppercase;\n        font-weight: 400;\n        padding: 13px 6px;\n        margin: 5px 5px 5px 0;\n        border-radius: 0;\n        color: #fff;\n        cursor: pointer;\n        height: 45px;\n        line-height: 18px;\n        font-size: 18px;\n        text-align: center;\n\n        &:hover,\n        &:focus {\n          background: #205067;\n        }\n      }\n    }\n\n    .col-1 {\n      flex-basis: 8.33%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-2 {\n      flex-basis: 16.66%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-3 {\n      flex-basis: 25%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-4 {\n      flex-basis: 33.33%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-5 {\n      flex-basis: 41.66%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-6 {\n      flex-basis: 50%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-7 {\n      flex-basis: 58.33%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-8 {\n      flex-basis: 66.66%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-9 {\n      flex-basis: 75%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-10 {\n      flex-basis: 83.33%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-11 {\n      flex-basis: 91.66%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-12 {\n      flex-basis: 100%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n  }\n\n  .dropzone {\n    padding: 1px 0;\n    position: relative;\n  }\n\n  .deleteContainer {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    z-index: 99999;\n    background: #417690;\n    color: #fff;\n    appearance: none;\n    border: 0;\n    margin: 0;\n    padding: 3px 10px;\n    line-height: 15px;\n    font-size: 15px;\n    user-select: none;\n    transition: all 0.4s ease;\n    cursor: pointer;\n\n    &:hover {\n      user-select: none;\n      background: #205067;\n    }\n\n    &:focus {\n      outline: 0 !important;\n      border: 0 !important;\n    }\n\n    &:active {\n      background: #417690;\n    }\n\n    &.deleteBoxed {\n      margin-right: 10%;\n    }\n  }\n\n  .boxed {\n    margin: 0 10%;\n  }\n\n  .containerPrototype {\n    min-height: 40px;\n    outline: 2px #417690 solid;\n    box-sizing: border-box;\n  }\n\n  .popup #content {\n    margin: 0;\n    padding: 20px;\n    box-sizing: border-box;\n  }\n\n  .sameOrder {\n    padding: 20px 0;\n    font-size: 18px;\n    font-weight: bold;\n\n    &.ok {\n      color: green;\n    }\n\n    &.ko {\n      color: red;\n    }\n  }\n\n  .rowFlex {\n    display: flex;\n    flex-flow: row nowrap;\n  }\n\n  .space {\n    flex: 0 0 2%;\n  }\n}\n",{"version":3,"sources":["page-layout-builder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0uBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"page-layout-builder.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"plbSpecificity\" class=\"pageLayoutBuilder\">\n    <h2 class=\"componentTitle\">{{ i18n.componentTitle }}</h2>\n    <div class=\"componentDescription\" v-html=\"i18n.componentDescription\" />\n    <div class=\"containersBtns\">\n      <h3 class=\"buttonsTitle\">{{ i18n.buttonsTitle }}</h3>\n      <button type=\"button\" @click.prevent=\"addBoxedContainer\">\n        {{ i18n.addBoxedContainer }}\n      </button>\n      <button type=\"button\" @click.prevent=\"addFluidContainer\">\n        {{ i18n.addFluidContainer }}\n      </button>\n    </div>\n    <div class=\"rowFlex layoutsWrapper\">\n      <div class=\"large\">\n        <h3 class=\"layoutTitle\">{{ i18n.layoutTitleD }}</h3>\n        <div class=\"page\">\n          <header class=\"pageHeader\">{{ i18n.pageHeader }}</header>\n          <template v-for=\"(container, i) in containers\">\n            <drop\n              :key=\"'LargeDropzone' + i\"\n              class=\"dropzone\"\n              @drop=\"\n                (data, event) => {\n                  handleDrop(data, event, container);\n                }\n              \"\n            >\n              <button\n                :class=\"['deleteContainer', { deleteBoxed: container.boxed }]\"\n                type=\"button\"\n                @click=\"removeContainer(container)\"\n              >\n                {{ i18n.del }}\n              </button>\n              <grid-layout\n                :class=\"['containerPrototype', { boxed: container.boxed }]\"\n                :layout.sync=\"container.layoutD\"\n                :col-num=\"parseInt(colNum)\"\n                :row-height=\"rowHeight\"\n                :is-draggable=\"draggable\"\n                :is-resizable=\"false\"\n                :is-mirrored=\"false\"\n                :prevent-collision=\"false\"\n                :vertical-compact=\"false\"\n                :use-css-transforms=\"true\"\n                :responsive=\"false\"\n                @layout-updated=\"layoutUpdatedEvent\"\n              >\n                <grid-item\n                  v-for=\"item in container.layoutD\"\n                  :key=\"item.i\"\n                  class=\"GridItem\"\n                  :style=\"computedItemStyle(item.i)\"\n                  :static=\"item.static\"\n                  :x=\"item.x\"\n                  :y=\"item.y\"\n                  :w=\"item.w\"\n                  :h=\"item.h\"\n                  :i=\"item.i\"\n                  @resize=\"resize\"\n                  @moved=\"moved\"\n                >\n                  <button\n                    type=\"button\"\n                    class=\"utilityCta\"\n                    @click=\"removeMe(item)\"\n                  >\n                    <svg\n                      id=\"Capa_1\"\n                      version=\"1.1\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n                      x=\"0px\"\n                      y=\"0px\"\n                      viewBox=\"0 0 388.245 388.245\"\n                      style=\"enable-background: new 0 0 388.245 388.245\"\n                      xml:space=\"preserve\"\n                    >\n                      <g>\n                        <path\n                          style=\"fill: #010002\"\n                          d=\"M107.415,388.245h173.334c21.207,0,38.342-17.159,38.342-38.342V80.928H69.097v268.975\n                            C69.097,371.086,86.264,388.245,107.415,388.245z M253.998,129.643c0-7.178,5.796-13.03,13.006-13.03\n                            c7.178,0,13.006,5.853,13.006,13.03v208.311c0,7.21-5.828,13.038-13.006,13.038c-7.21,0-13.006-5.828-13.006-13.038V129.643z\n                             M181.491,129.643c0-7.178,5.804-13.03,13.006-13.03c7.178,0,13.006,5.853,13.006,13.03v208.311c0,7.21-5.828,13.038-13.006,13.038\n                            c-7.202,0-13.006-5.828-13.006-13.038C181.491,337.954,181.491,129.643,181.491,129.643z M109.025,129.643\n                            c0-7.178,5.796-13.03,12.973-13.03s13.038,5.853,13.038,13.03v208.311c0,7.21-5.861,13.038-13.038,13.038\n                            c-7.178,0-12.973-5.828-12.973-13.038V129.643z\"\n                        />\n                        <path\n                          style=\"fill: #010002\"\n                          d=\"M294.437,20.451h-52.779C240.39,8.966,230.75,0,218.955,0h-49.682\n                            c-11.86,0-21.476,8.966-22.736,20.451H93.792c-25.865,0-46.756,20.955-46.902,46.756h294.466\n                            C341.258,41.407,320.335,20.451,294.437,20.451z\"\n                        />\n                      </g>\n                    </svg>\n                  </button>\n                  <button\n                    v-if=\"item.w !== 12\"\n                    type=\"button\"\n                    class=\"utilityCta\"\n                    @click=\"moreCols(item, 'd')\"\n                  >\n                    +\n                  </button>\n                  <button\n                    v-if=\"item.w !== 1\"\n                    type=\"button\"\n                    class=\"utilityCta\"\n                    @click=\"lessCols(item, 'd')\"\n                  >\n                    -\n                  </button>\n                </grid-item>\n              </grid-layout>\n            </drop>\n          </template>\n          <footer class=\"pageFooter\">{{ i18n.pageFooter }}</footer>\n        </div>\n      </div>\n      <div class=\"space\"></div>\n      <div class=\"medium\">\n        <h3 class=\"layoutTitle\">{{ i18n.layoutTitleT }}</h3>\n        <div class=\"page\">\n          <header class=\"pageHeader\">{{ i18n.pageHeader }}</header>\n          <template v-for=\"(container, i) in containers\">\n            <div :key=\"'MediumDropzone' + i\" class=\"dropzone fakeDropzone\">\n              <grid-layout\n                :class=\"['containerPrototype', { boxed: container.boxed }]\"\n                :layout.sync=\"container.layoutT\"\n                :col-num=\"parseInt(colNum)\"\n                :row-height=\"rowHeight\"\n                :is-draggable=\"true\"\n                :is-resizable=\"false\"\n                :is-mirrored=\"false\"\n                :prevent-collision=\"false\"\n                :vertical-compact=\"false\"\n                :use-css-transforms=\"true\"\n                :responsive=\"false\"\n                @layout-updated=\"layoutUpdatedEvent\"\n              >\n                <grid-item\n                  v-for=\"item in container.layoutT\"\n                  :key=\"item.i\"\n                  class=\"GridItem\"\n                  :style=\"computedItemStyle(item.i)\"\n                  :static=\"item.static\"\n                  :x=\"item.x\"\n                  :y=\"item.y\"\n                  :w=\"item.w\"\n                  :h=\"item.h\"\n                  :i=\"item.i\"\n                  @resize=\"resize\"\n                  @moved=\"moved\"\n                >\n                  <button\n                    v-if=\"item.w !== 12\"\n                    type=\"button\"\n                    class=\"utilityCta\"\n                    @click=\"moreCols(item, 't')\"\n                  >\n                    +\n                  </button>\n                  <button\n                    v-if=\"item.w !== 1\"\n                    type=\"button\"\n                    class=\"utilityCta\"\n                    @click=\"lessCols(item, 't')\"\n                  >\n                    -\n                  </button>\n                </grid-item>\n              </grid-layout>\n            </div>\n          </template>\n          <footer class=\"pageFooter\">{{ i18n.pageFooter }}</footer>\n        </div>\n      </div>\n      <div class=\"space\"></div>\n      <div class=\"small\">\n        <h3 class=\"layoutTitle\">{{ i18n.layoutTitleS }}</h3>\n        <div class=\"page\">\n          <header class=\"pageHeader\">{{ i18n.pageHeader }}</header>\n          <template v-for=\"(container, i) in containers\">\n            <div :key=\"'SmallDropzone' + i\" class=\"dropzone fakeDropzone\">\n              <grid-layout\n                :class=\"['containerPrototype', { boxed: container.boxed }]\"\n                :layout.sync=\"container.layoutS\"\n                :col-num=\"parseInt(colNum)\"\n                :row-height=\"rowHeight\"\n                :is-draggable=\"true\"\n                :is-resizable=\"false\"\n                :is-mirrored=\"false\"\n                :prevent-collision=\"false\"\n                :vertical-compact=\"false\"\n                :use-css-transforms=\"true\"\n                :responsive=\"false\"\n                @layout-updated=\"layoutUpdatedEvent\"\n              >\n                <grid-item\n                  v-for=\"item in container.layoutS\"\n                  :key=\"item.i\"\n                  class=\"GridItem\"\n                  :style=\"computedItemStyle(item.i)\"\n                  :static=\"item.static\"\n                  :x=\"item.x\"\n                  :y=\"item.y\"\n                  :w=\"item.w\"\n                  :h=\"item.h\"\n                  :i=\"item.i\"\n                  @resize=\"resize\"\n                  @moved=\"moved\"\n                >\n                  <button\n                    v-if=\"item.w !== 12\"\n                    type=\"button\"\n                    class=\"utilityCta\"\n                    @click=\"moreCols(item, 's')\"\n                  >\n                    +\n                  </button>\n                  <button\n                    v-if=\"item.w !== 1\"\n                    type=\"button\"\n                    class=\"utilityCta\"\n                    @click=\"lessCols(item, 's')\"\n                  >\n                    -\n                  </button>\n                </grid-item>\n              </grid-layout>\n            </div>\n          </template>\n          <footer class=\"pageFooter\">{{ i18n.pageFooter }}</footer>\n        </div>\n      </div>\n    </div>\n    <div class=\"rowFlex\">\n      <div class=\"exampleContainer\">\n        <h3 class=\"colsTitle\">{{ i18n.colsTitle }}</h3>\n        <drag class=\"col col-1\" :transfer-data=\"1\">\n          <div class=\"brick\">{{ i18n.colSmallPrefix }} 1</div>\n        </drag>\n        <drag class=\"col col-11\" :transfer-data=\"11\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 11</div>\n        </drag>\n        <drag class=\"col col-2\" :transfer-data=\"2\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 2</div>\n        </drag>\n        <drag class=\"col col-10\" :transfer-data=\"10\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 10</div>\n        </drag>\n        <drag class=\"col col-3\" :transfer-data=\"3\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 3</div>\n        </drag>\n        <drag class=\"col col-9\" :transfer-data=\"9\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 9</div>\n        </drag>\n        <drag class=\"col col-4\" :transfer-data=\"4\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 4</div>\n        </drag>\n        <drag class=\"col col-8\" :transfer-data=\"8\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 8</div>\n        </drag>\n        <drag class=\"col col-5\" :transfer-data=\"5\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 5</div>\n        </drag>\n        <drag class=\"col col-7\" :transfer-data=\"7\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 7</div>\n        </drag>\n        <drag class=\"col col-6\" :transfer-data=\"6\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 6</div>\n        </drag>\n        <drag class=\"col col-6\" :transfer-data=\"6\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 6</div>\n        </drag>\n        <drag class=\"col col-12\" :transfer-data=\"12\">\n          <div class=\"brick\">{{ i18n.colBigPrefix }} 12</div>\n        </drag>\n      </div>\n    </div>\n    <div class=\"actionsWrapper\">\n      <div v-if=\"!sameOrder\" class=\"sameOrder ko\">{{ i18n.errorCols }}</div>\n      <div v-else-if=\"!hasCols\" class=\"sameOrder ko\">\n        {{ i18n.errorContainers }}\n      </div>\n      <button v-else type=\"button\" class=\"saveBtn\" @click.prevent=\"serialize\">\n        SALVA\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport GridItem from './GridItem.vue';\nimport GridLayout from './GridLayout.vue';\nimport { getDocumentDir, setDocumentDir } from '../helpers/DOM';\nimport palette from 'google-palette';\n\nconst blockHeightModule = 8;\nconst seq = palette(['tol', 'qualitative', 'rainbow'], 40);\n\nexport default {\n  name: 'PageLayoutBuilder',\n  components: {\n    GridLayout,\n    GridItem,\n  },\n  props: ['i18n'],\n  data() {\n    return {\n      allItems: [],\n      containers: [],\n      blocksHeight: blockHeightModule,\n      layoutD: [],\n      layoutT: [],\n      layoutS: [],\n      draggable: true,\n      resizable: true,\n      mirrored: false,\n      responsive: true,\n      preventCollision: false,\n      rowHeight: blockHeightModule,\n      colNum: 12,\n      index: 0,\n      indexContainer: 0,\n      serializedJson: {},\n    };\n  },\n  computed: {\n    sameOrder() {\n      return this.doAllContainersHasSameOrder();\n    },\n    hasCols() {\n      return this.containers.length && this.containers[0].layoutD.length;\n    },\n  },\n  mounted: function () {\n    if (\n      document.getElementById('json-data') &&\n      document.getElementById('json-data').value.length\n    ) {\n      const data = JSON.parse(document.getElementById('json-data').value);\n      this.containers = data;\n    }\n    if (window.CMS) {\n      window.CMS.$('form')\n        .off('submit.myWidgetNs')\n        .on('submit.myWidgetNs', (e) => {\n          if (\n            !e.originalEvent.submitter.getAttribute('name') ||\n            e.originalEvent.submitter.getAttribute('name') !==\n              'wizard_goto_step'\n          ) {\n            let savedHeight;\n            if (!this.sameOrder) {\n              e.preventDefault();\n              savedHeight = window.pageYOffset;\n              alert(this.i18n.errorCols);\n              if (window.parent && window.parent.CMS) {\n                setTimeout(() => {\n                  window.parent.CMS.$('.cms-modal-frame iframe').css(\n                    'display',\n                    'block'\n                  );\n                  window.scrollTo(0, savedHeight);\n                }, 100);\n              }\n            } else if (!this.hasCols) {\n              e.preventDefault();\n              savedHeight = window.pageYOffset;\n              alert(this.i18n.errorContainers);\n              if (window.parent && window.parent.CMS) {\n                setTimeout(() => {\n                  window.parent.CMS.$('.cms-modal-frame iframe').css(\n                    'display',\n                    'block'\n                  );\n                  window.scrollTo(0, savedHeight);\n                }, 100);\n              }\n            } else {\n              this.serialize();\n            }\n          }\n        });\n    }\n  },\n  methods: {\n    computedItemStyle(idx) {\n      return {\n        backgroundColor: '#' + seq[idx],\n      };\n    },\n    addBoxedContainer() {\n      this.containers = [\n        ...this.containers,\n        {\n          indexContainer: this.indexContainer,\n          boxed: true,\n          layoutD: [],\n          layoutT: [],\n          layoutS: [],\n        },\n      ];\n      this.indexContainer++;\n    },\n    addFluidContainer() {\n      this.containers = [\n        ...this.containers,\n        {\n          indexContainer: this.indexContainer,\n          boxed: false,\n          layoutD: [],\n          layoutT: [],\n          layoutS: [],\n        },\n      ];\n      this.indexContainer++;\n    },\n    adjustY(item) {\n      if (item.w + item.x > this.colNum) {\n        item.y = item.y + this.rowHeight;\n        item.x = 0;\n      }\n    },\n    moreCols(item, step) {\n      item.w++;\n      this.adjustY(item);\n      this.refreshAll();\n    },\n    lessCols(item, step) {\n      item.w--;\n      this.refreshAll();\n    },\n    serialize() {\n      this.containers.forEach((container) => {\n        let cont = this.addContainer(container);\n        let row = this.addRow(cont);\n\n        let allItemsD = this.sortedCopyLayout(container.layoutD);\n        let allItemsT = this.sortedCopyLayout(container.layoutT);\n        let allItemsS = this.sortedCopyLayout(container.layoutS);\n\n        let allItems = allItemsD.map((d, idx) => {\n          return {\n            d: d,\n            t: allItemsT[idx],\n            s: allItemsS[idx],\n            index: d.i,\n          };\n        });\n\n        allItems.forEach((item, index) => {\n          this.addCol(row, {\n            item,\n            previous: allItems[index - 1],\n          });\n        });\n      });\n\n      try {\n        if (document.querySelector('form .form-row.form_data textarea')) {\n          document.querySelector('form .form-row.form_data textarea').value =\n            JSON.stringify(this.serializedJson);\n        }\n        if (document.querySelector('form .form-row.field-form_data textarea')) {\n          document.querySelector(\n            'form .form-row.field-form_data textarea'\n          ).value = JSON.stringify(this.serializedJson);\n        }\n        if (document.getElementById('json-data')) {\n          document.getElementById('json-data').value = JSON.stringify(\n            this.containers\n          );\n        }\n      } catch (e) {\n        // eslint-disable-next-line\n        console.error(e);\n      }\n    },\n    serializeContainer(options) {\n      if (options.boxed) {\n        return {\n          attrs: { variant_class: 'container' },\n          rows: [],\n        };\n      } else {\n        return {\n          attrs: { variant_class: 'container-fluid' },\n          rows: [],\n        };\n      }\n    },\n    serializeRow(options) {\n      return {\n        attrs: { variant_class: '' },\n        cols: [],\n      };\n    },\n    serializeCol(options) {\n      let classes = {};\n      if (options.item) {\n        if (options.previous) {\n          Object.keys(options.item).forEach((key) => {\n            const prefix = key === 'd' ? '-lg' : key === 't' ? '-md' : '';\n            if (options.item[key].y === options.previous[key].y) {\n              if (\n                options.item[key].x >\n                options.previous[key].x + options.previous[key].w\n              ) {\n                classes = {\n                  ...classes,\n                  [`offset_${prefix}`]:\n                    options.item[key].x -\n                    (options.previous[key].x + options.previous[key].w),\n                };\n              }\n            } else {\n              if (options.item[key].x !== 0) {\n                classes = {\n                  ...classes,\n                  [`offset_${prefix}`]: options.item[key].x,\n                };\n              }\n            }\n          });\n        }\n\n        classes = {\n          ...classes,\n          cols_xs: options.item.s.w,\n          cols_md: options.item.t.w,\n          cols_lg: options.item.d.w,\n        };\n      }\n\n      return {\n        name: options.item.d.i,\n        attrs: classes,\n      };\n    },\n    addCol(row, options) {\n      const col = this.serializeCol(options);\n\n      if (!row.cols) {\n        row.cols = [col];\n      } else {\n        row.cols = [...row.cols, col];\n      }\n\n      return col;\n    },\n    addRow(container, options) {\n      const row = this.serializeRow(options);\n\n      if (!container.rows) {\n        container.rows = [row];\n      } else {\n        container.rows = [...container.rows, row];\n      }\n\n      return row;\n    },\n    addContainer(options) {\n      const container = this.serializeContainer(options);\n\n      if (!this.serializedJson.containers) {\n        this.serializedJson.containers = [container];\n      } else {\n        this.serializedJson.containers = [\n          ...this.serializedJson.containers,\n          container,\n        ];\n      }\n\n      return container;\n    },\n    sortedCopyLayout(layout) {\n      return layout\n        .concat()\n        .sort((a, b) => {\n          return a.x - b.x;\n        })\n        .sort((a, b) => {\n          return a.y - b.y;\n        });\n    },\n    doAllContainersHasSameOrder() {\n      return this.containers.reduce((acc, curr) => {\n        const d = this.sortedCopyLayout(curr.layoutD)\n          .map((e) => e.i)\n          .join('');\n        const t = this.sortedCopyLayout(curr.layoutT)\n          .map((e) => e.i)\n          .join('');\n        const s = this.sortedCopyLayout(curr.layoutS)\n          .map((e) => e.i)\n          .join('');\n        return acc && d === t && t === s;\n      }, true);\n    },\n    removeContainer(container) {\n      this.containers.splice(this.containers.indexOf(container), 1);\n    },\n    removeMe(item) {\n      let container = this.containers.find(\n        (o) => o.indexContainer === item.indexContainer\n      );\n      const elementToDeleteD = container.layoutD.find((o) => o.i === item.i);\n      const elementToDeleteT = container.layoutT.find((o) => o.i === item.i);\n      const elementToDeleteS = container.layoutS.find((o) => o.i === item.i);\n      container.layoutD.splice(container.layoutD.indexOf(elementToDeleteD), 1);\n      container.layoutT.splice(container.layoutT.indexOf(elementToDeleteT), 1);\n      container.layoutS.splice(container.layoutS.indexOf(elementToDeleteS), 1);\n      this.refreshAll();\n    },\n    refreshAll(step) {\n      this.containers.forEach((container) => {\n        this.roundYToModule(container.layoutD);\n        this.roundYToModule(container.layoutT);\n        this.roundYToModule(container.layoutS);\n      });\n      this.triggerResize();\n    },\n    handleDrop(data, event, container) {\n      this.addItem(data, container);\n    },\n    addItem: function (itemWidth, container) {\n      const getFirstAvailableX = (rowItems) => {\n        return rowItems.reduce((acc, curr) => acc + curr.w, 0);\n      };\n\n      const getFirstAvailableXY = (rowIndex = 0) => {\n        const rowItems = container.layoutD.filter(\n          (block) => block.y === rowIndex\n        );\n        const firstAvailableX = getFirstAvailableX(rowItems);\n        if (firstAvailableX < this.colNum) {\n          return {\n            x: firstAvailableX,\n            y: rowIndex,\n          };\n        } else {\n          rowIndex = rowIndex + this.blocksHeight;\n          return getFirstAvailableXY(rowIndex);\n        }\n      };\n\n      const getXY = (itemWidth, rowIndex) => {\n        let { x, y } = getFirstAvailableXY(rowIndex);\n\n        if (this.colNum - x - itemWidth >= 0) {\n          return { x, y };\n        } else {\n          rowIndex = rowIndex + this.blocksHeight;\n          return getXY(itemWidth, rowIndex);\n        }\n      };\n\n      const createItem = () => {\n        const { x, y } = getXY(itemWidth, 0);\n        let obj = Object.assign(\n          {},\n          {\n            d: {\n              w: itemWidth,\n              h: this.blocksHeight,\n              x: x,\n              y: y,\n              i: this.index,\n              indexContainer: container.indexContainer,\n            },\n            t: {\n              w: itemWidth,\n              h: this.blocksHeight,\n              x: x,\n              y: y,\n              i: this.index,\n              indexContainer: container.indexContainer,\n            },\n            s: {\n              w: itemWidth,\n              h: this.blocksHeight,\n              x: x,\n              y: y,\n              i: this.index,\n              indexContainer: container.indexContainer,\n            },\n          }\n        );\n        obj.index = this.index;\n        return obj;\n      };\n\n      let item = createItem();\n\n      this.index++;\n      container.layoutD = [...container.layoutD, item.d];\n      container.layoutT = [...container.layoutT, item.t];\n      container.layoutS = [...container.layoutS, item.s];\n      return item;\n    },\n    resize: function (i, newH, newW, newHPx, newWPx) {},\n    moved: function (i, newX, newY) {\n      this.doAllContainersHasSameOrder();\n    },\n    triggerResize() {\n      window.dispatchEvent(new Event('resize'));\n    },\n    layoutUpdatedEvent: function (newLayout) {\n      this.refreshAll();\n    },\n    getMinimumY(newLayout, newY) {\n      if (newY === 0) {\n        return newY;\n      } else {\n        if (\n          newLayout.filter((item) => item.y === newY - blockHeightModule).length\n        ) {\n          return newY;\n        } else {\n          return this.getMinimumY(newLayout, newY - blockHeightModule);\n        }\n      }\n    },\n    roundYToModule(newLayout) {\n      newLayout.forEach((el) => {\n        let newY = 0;\n        if (el.y % blockHeightModule === 0) {\n          newY = el.y;\n        } else if (el.y % blockHeightModule > 2) {\n          newY = blockHeightModule * Math.ceil(el.y / blockHeightModule);\n        } else {\n          newY = blockHeightModule * Math.floor(el.y / blockHeightModule);\n        }\n        el.y = this.getMinimumY(newLayout, newY);\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#plbSpecificity {\n  button {\n    outline: 0;\n    user-select: none;\n    border: 0;\n  }\n\n  &.pageLayoutBuilder {\n    width: 100%;\n    display: block;\n    color: #2c3e50;\n    clear: both;\n  }\n\n  .utilityCta {\n    appearance: none;\n    border: none;\n    padding: 5px;\n    font-size: 18px;\n    line-height: 12px;\n    vertical-align: top;\n    background: #417690;\n    color: #fff;\n    min-width: 26px;\n    min-height: 26px;\n    user-select: none;\n    transition: all 0.4s ease;\n    cursor: pointer;\n\n    svg {\n      user-select: none;\n      width: 15px;\n      height: 15px;\n      fill: #fff !important;\n      stroke: #fff !important;\n\n      * {\n        fill: #fff !important;\n        stroke: #fff !important;\n      }\n    }\n\n    &:hover {\n      user-select: none;\n\n      background: #205067;\n    }\n\n    &:focus {\n      outline: 0 !important;\n      border: 0 !important;\n    }\n\n    &:active {\n      background: #417690;\n    }\n  }\n\n  .componentTitle {\n    font-size: 32px;\n    color: #000;\n    line-height: 1.3;\n    margin: 0 0 20px;\n    font-weight: 600;\n    padding: 0;\n    background: transparent;\n  }\n\n  .componentDescription {\n    font-size: 18px;\n    p {\n      padding-bottom: 10px;\n    }\n  }\n\n  .containersBtns {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: flex-start;\n    margin: 30px 0 0;\n\n    button {\n      background: #417690;\n      appearance: none;\n      text-transform: uppercase;\n      font-weight: 400;\n      padding: 10px 15px;\n      margin: 0 10px 0 0;\n      border-radius: 0;\n      color: #fff;\n      cursor: pointer;\n      height: 45px;\n      line-height: 20px;\n      font-size: 18px;\n\n      &:hover,\n      &:focus {\n        background: #205067;\n      }\n    }\n  }\n\n  .layoutTitle,\n  .buttonsTitle,\n  .colsTitle {\n    text-align: left;\n    background: none;\n    color: black;\n    font-size: 22px;\n    margin: 0 0 20px;\n    line-height: 40px;\n    font-weight: 600;\n    padding: 0;\n  }\n\n  .buttonsTitle {\n    width: 100%;\n  }\n\n  .colsTitle {\n    width: 100%;\n  }\n\n  .layoutsWrapper {\n    margin: 30px 0 0;\n  }\n\n  .page {\n    border: 2px solid black;\n    min-height: 127px;\n    position: relative;\n    padding: 40px 0 41px;\n  }\n\n  .large {\n    flex: 0 0 48%;\n  }\n\n  .medium {\n    flex: 0 0 28%;\n  }\n\n  .small {\n    flex: 0 0 20%;\n  }\n\n  .pageHeader {\n    text-align: center;\n    font-weight: 700;\n    font-size: 16px;\n    width: 100%;\n    height: 40px;\n    top: 0;\n    position: absolute;\n    line-height: 40px;\n    background-color: #dadada;\n  }\n\n  .pageFooter {\n    text-align: center;\n    font-weight: 700;\n    font-size: 16px;\n    width: 100%;\n    height: 40px;\n    bottom: 0;\n    position: absolute;\n    line-height: 40px;\n    background-color: #dadada;\n  }\n\n  .actionsWrapper {\n    margin: 40px 0 0;\n    text-align: right;\n  }\n\n  .exampleContainer {\n    margin: 30px 0 0;\n    display: flex;\n    flex-flow: row wrap;\n    width: 48%;\n\n    .col {\n      padding: 2px;\n      overflow: hidden;\n\n      .brick {\n        background: #417690;\n        appearance: none;\n        text-transform: uppercase;\n        font-weight: 400;\n        padding: 13px 6px;\n        margin: 5px 5px 5px 0;\n        border-radius: 0;\n        color: #fff;\n        cursor: pointer;\n        height: 45px;\n        line-height: 18px;\n        font-size: 18px;\n        text-align: center;\n\n        &:hover,\n        &:focus {\n          background: #205067;\n        }\n      }\n    }\n\n    .col-1 {\n      flex-basis: 8.33%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-2 {\n      flex-basis: 16.66%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-3 {\n      flex-basis: 25%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-4 {\n      flex-basis: 33.33%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-5 {\n      flex-basis: 41.66%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-6 {\n      flex-basis: 50%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-7 {\n      flex-basis: 58.33%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-8 {\n      flex-basis: 66.66%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-9 {\n      flex-basis: 75%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-10 {\n      flex-basis: 83.33%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-11 {\n      flex-basis: 91.66%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n\n    .col-12 {\n      flex-basis: 100%;\n      flex-grow: 0;\n      flex-shrink: 0;\n    }\n  }\n\n  .dropzone {\n    padding: 1px 0;\n    position: relative;\n  }\n\n  .deleteContainer {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    z-index: 99999;\n    background: #417690;\n    color: #fff;\n    appearance: none;\n    border: 0;\n    margin: 0;\n    padding: 3px 10px;\n    line-height: 15px;\n    font-size: 15px;\n    user-select: none;\n    transition: all 0.4s ease;\n    cursor: pointer;\n\n    &:hover {\n      user-select: none;\n      background: #205067;\n    }\n\n    &:focus {\n      outline: 0 !important;\n      border: 0 !important;\n    }\n\n    &:active {\n      background: #417690;\n    }\n\n    &.deleteBoxed {\n      margin-right: 10%;\n    }\n  }\n\n  .boxed {\n    margin: 0 10%;\n  }\n\n  .containerPrototype {\n    min-height: 40px;\n    outline: 2px #417690 solid;\n    box-sizing: border-box;\n  }\n\n  .popup #content {\n    margin: 0;\n    padding: 20px;\n    box-sizing: border-box;\n  }\n\n  .sameOrder {\n    padding: 20px 0;\n    font-size: 18px;\n    font-weight: bold;\n\n    &.ok {\n      color: green;\n    }\n\n    &.ko {\n      color: red;\n    }\n  }\n\n  .rowFlex {\n    display: flex;\n    flex-flow: row nowrap;\n  }\n\n  .space {\n    flex: 0 0 2%;\n  }\n}\n</style>\n"]}]}